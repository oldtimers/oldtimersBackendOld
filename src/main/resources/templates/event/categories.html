<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header_fragment :: headerFragment (title='Edit categories')"></head>
<body>

<form method="post" th:action="@{__${action}__/categories}" th:object="${categories}">

    <div class="container-fluid">
        <br>
        <div class="row">
            <div class="col-md">
                <div class="card card-bord">
                    <h2>Other categories</h2>
                    <div class="card card-bord" th:each="category, info : ${categories.otherCategories}">
                        <table class="table">
                            <tr>
                                <th>Language</th>
                                <th>Name</th>
                                <th>Description</th>
                            </tr>
                            <tr th:each="eventLanguage, info2 : ${event.eventLanguages}">
                                <td th:text="${eventLanguage.language.code}"></td>
                                <td>
                                    <label>
                                        <input th:field="${categories.otherCategories[__${info.index}__].name.dictionaries[__${info2.index}__].value}"
                                               type="text">
                                    </label>
                                </td>
                                <td>
                                    <label>
                                        <input th:field="${categories.otherCategories[__${info.index}__].description.dictionaries[__${info2.index}__].value}"
                                               type="text">
                                    </label>
                                </td>
                            </tr>
                        </table>
                        <button class="btn btn-primary row-link links" name="delete1" th:value="${info.index}"
                                type="submit">Delete
                        </button>
                    </div>
                    <div class="card card-bord">
                        <h3>Add new other category</h3>
                        <table class="table">
                            <tr>
                                <th>Language</th>
                                <th>Name</th>
                                <th>Description</th>
                            </tr>
                            <tr th:each="eventLanguage, info2 : ${event.eventLanguages}">
                                <td th:text="${eventLanguage.language.code}"></td>
                                <td>
                                    <label>
                                        <input th:field="*{newOtherCategory.name.dictionaries[__${info2.index}__].value}"
                                               type="text">
                                    </label>
                                </td>
                                <td>
                                    <label>
                                        <input th:field="*{newOtherCategory.description.dictionaries[__${info2.index}__].value}"
                                               type="text">
                                    </label>
                                </td>
                            </tr>
                        </table>
                        <button class="btn btn-primary row-link links" name="add1"
                                type="submit">Add
                        </button>
                    </div>
                </div>
                <div class="card card-bord">
                    <h2>Year categories</h2>
                    <div class="card card-bord" th:each="category, info : ${categories.yearCategories}">
                        <table class="table">
                            <tr>
                                <th>Language</th>
                                <th>Name</th>
                                <th>Description</th>
                            </tr>
                            <tr th:each="eventLanguage, info2 : ${event.eventLanguages}">
                                <td th:text="${eventLanguage.language.code}"></td>
                                <td>
                                    <label>
                                        <input th:field="${categories.otherCategories[__${info.index}__].name.dictionaries[__${info2.index}__].value}"
                                               type="text">
                                    </label>
                                </td>
                                <td>
                                    <label>
                                        <input th:field="${categories.otherCategories[__${info.index}__].description.dictionaries[__${info2.index}__].value}"
                                               type="text">
                                    </label>
                                </td>
                            </tr>
                        </table>
                        <div th:replace="fragments/form_pieces :: number (fieldName='yearCategories[__${info.index}__].minYear', label='From')"></div>
                        <div th:replace="fragments/form_pieces :: number (fieldName='yearCategories[__${info.index}__].maxYear', label='To')"></div>
                        <button class="btn btn-primary row-link links" name="delete1" th:value="${info.index}"
                                type="submit">Delete
                        </button>
                    </div>
                    <div class="card card-bord">
                        <h3>Add new year category</h3>
                        <table class="table">
                            <tr>
                                <th>Language</th>
                                <th>Name</th>
                                <th>Description</th>
                            </tr>
                            <tr th:each="eventLanguage, info2 : ${event.eventLanguages}">
                                <td th:text="${eventLanguage.language.code}"></td>
                                <td>
                                    <label>
                                        <input th:field="*{newYearCategory.name.dictionaries[__${info2.index}__].value}"
                                               type="text">
                                    </label>
                                </td>
                                <td>
                                    <label>
                                        <input th:field="*{newYearCategory.description.dictionaries[__${info2.index}__].value}"
                                               type="text">
                                    </label>
                                </td>
                            </tr>
                        </table>
                        <div th:replace="fragments/form_pieces :: number (fieldName='newYearCategory.minYear', label='From')"></div>
                        <div th:replace="fragments/form_pieces :: number (fieldName='newYearCategory.maxYear', label='To')"></div>
                        <button class="btn btn-primary row-link links" name="add2"
                                type="submit">Add
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <button class="btn btn-primary" name="reload" th:text="Reset" type="submit"></button>
    <button class="btn btn-primary" th:text="Save" type="submit"></button>
</form>
<div class="card card-bord">
    <a class="btn btn-primary" th:href="@{__${action}__}">Back</a>
</div>
</body>
</html>
